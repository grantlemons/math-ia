\documentclass[../../IA.tex]{subfiles}

\begin{document}

\newcommand{\sumdiv}{\exampleLowSubintervals}
\newcommand{\leftbound}{-3.5}
\newcommand{\rightbound}{1}

\begin{figure}[ht]
    \centering
    \resizebox{.7\textwidth}{!}{
        \begin{tikzpicture}[extended line/.style={shorten >=-#1,shorten <=-#1}]
            \pgfmathparse{int(\sumdiv-1)}
            \foreach \i in {0, ..., \pgfmathresult}
            {
                \pgfmathsetmacro\BLx{\leftbound + (((\rightbound - \leftbound)/\sumdiv)*\i)}
                \pgfmathsetmacro\TRx{\leftbound + (((\rightbound - \leftbound)/\sumdiv)*(\i+1))}
                \pgfmathsetmacro\TRy{\simpleEq{\BLx}}
                \coordinate (BL) at (\BLx, 0);
                \coordinate (TR) at (\TRx, \TRy);

                \path [draw = gray, thin, pattern=north west lines, pattern color=gray] (BL) rectangle (TR);
            }

            \numline{\leftbound, ..., \rightbound}
            \graphSimple
        \end{tikzpicture}
    }
    \vspace{-.4cm}
    \caption{A sketch showing the effectiveness of the rectangle rule on a simple function.}
    \label{fig:rect_rule_simple}
\end{figure}
\end{document}
